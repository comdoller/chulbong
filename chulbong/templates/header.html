
{% load static %}
{% load sass_tags %}


<header style="background-color: #f5f5f5;">
        <div id="title_wraper">
            <a id="title_a" href="{% url 'map:home' %}"><span id="day">매일</span><span id="chulbong">철봉</span></a>
        </div>
        <div id="message_wraper">
            <i id ="message" class="far fa-paper-plane"></i>
        </div>
        <div id="info_wraper">
            <i id="info" class="fas fa-info"></i>
        </div>
</header>

<div id="message_modal">
    <form id = 'reg_massage' action="{% url 'map:request' %}" method="post" role="form" style="width:100%; height:auto;" enctype="multipart/form-data">
            <h2>문의/오류신고</h2>
            {% csrf_token %}
                    <input type="text" name="title" id = "title" placeholder="title" required/>
                    <textarea  name="content" id="content" rows="10" placeholder="Content"></textarea>
                    <div class='container' onclick="javascript:document.getElementById('reg_massage').submit();" >
                        <div class="button-container">
                        <div id="message_submit" class='button -regular -board'>작성완료</div>
                        </div>
                    </div>
    </form>
</div>


<div id="info_modal">
    <p id="info_p">
        &nbsp&nbsp&nbsp<b>감사합니다.</b><br><br>
        ･ 지역명으로 검색시 행정구역 명을 입력해 주세요. <br><br>
        ･ 잘못된 정보는 문의하기를 통해 제보해 주세요. <br><br>
        ･ 현재 서비스가 불안정 합니다. <br>
        &nbsp&nbsp&nbsp발생하는 오류를 말씀해 주시면 개선하겠습니다. <br><br>
        ･ 추후 보조 위치정보를 추가할 예정입니다. <br><br>
<br>
        <b>V1.0</b> (2020.01.02) <br>
        nearermg@gmail.com<br>
    </p>

</div>
        <script>

        /*
            모달창
            저작자 : 슷호브 New 훌로구
            원문주소 : https://stove99.github.io/javascript/2019/04/19/javasript-center-modal/
            감사합니다.
        */

            function modal(id) {
                var zIndex = 9999;
                var modal = document.getElementById(id);

                // 모달 div 뒤에 희끄무레한 레이어
                var bg = document.createElement('div');
                bg.id='background';
                bg.setStyle({
                    position: 'fixed',
                    zIndex: zIndex,
                    left: '0px',
                    top: '0px',
                    width: '100%',
                    height: '100%',
                    overflow: 'auto',
                    // 레이어 색갈은 여기서 바꾸면 됨
                    backgroundColor: 'rgba(0,0,0,0.4)'
                });
                document.body.append(bg);

                // 뒷배경 클릭시 모달 닫기
                document.getElementById('background').addEventListener('click', function() {
                bg.remove();
                modal.style.display = 'none';
                });

                document.getElementById('message_submit').addEventListener('click', function() {
                bg.remove();
                modal.style.display = 'none';
                });

                modal.setStyle({
                    position: 'fixed',
                    display: 'block',
                    boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',

                    // 시꺼먼 레이어 보다 한칸 위에 보이기
                    zIndex: zIndex + 1,

                    // div center 정렬
                    top: '50%',
                    left: '50%',
                    transform: 'translate(-50%, -50%)',
                    msTransform: 'translate(-50%, -50%)',
                    webkitTransform: 'translate(-50%, -50%)'
                });
            }

            // Element 에 style 한번에 오브젝트로 설정하는 함수 추가
            Element.prototype.setStyle = function(styles) {
                for (var k in styles) this.style[k] = styles[k];
                return this;
            };

            document.getElementById('info_wraper').addEventListener('click', function() {
                // 모달창 띄우기
                modal('info_modal');
            });

            document.getElementById('message_wraper').addEventListener('click', function() {
                // 모달창 띄우기
                modal('message_modal');
            });


</script>